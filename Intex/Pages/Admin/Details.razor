@page "/admin/collisions/details/{id:long}"

<h3 class="bg-info text-white text-center p-1">Details</h3> 

<table class="table table-sm table-bordered table-striped">
    <tbody>
        <tr><th>Crash Id:</th><td>@c.CRASH_ID</td></tr>
        <tr><th>Date & Time</th><td>@c.CRASH_DATETIME</td></tr>
        <tr><th>Route</th><td>@c.ROUTE</td></tr>
        <tr><th>Milepoint</th><td>@c.MILEPOINT</td></tr>
        <tr><th>Latitude</th><td>@c.LAT_UTM_Y</td></tr>
        <tr><th>Longitude</th><td>@c.LONG_UTM_X</td></tr>
        <tr><th>Road Name</th><td>@c.MAIN_ROAD_NAME</td></tr>
        <tr><th>City</th><td>@c.CITY</td></tr>
        <tr><th>County</th><td>@c.COUNTY_NAME</td></tr>
        <tr><th>Crash Severity ID</th><td>@c.CRASH_SEVERITY_ID</td></tr>
        <tr>
            <th>Work Zone Related</th>
            @if (c.WORK_ZONE_RELATED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Pedestrian Involved</th>
            @if (c.PEDESTRIAN_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Bicyclist Involved</th>
            @if (c.BICYCLIST_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Motorcycle Involved</th>
            @if (c.MOTORCYCLE_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Improper Restraint</th>
            @if (c.IMPROPER_RESTRAINT == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Unrestrained</th>
            @if (c.UNRESTRAINED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>DUI</th>
            @if (c.DUI == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Intersection Related</th>
            @if (c.INTERSECTION_RELATED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Wild Animal Related</th>
            @if (c.WILD_ANIMAL_RELATED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Domestic Animal Related</th>
            @if (c.DOMESTIC_ANIMAL_RELATED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Overturn Rollover</th>
            @if (c.OVERTURN_ROLLOVER == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Commercial Motor Vehicle Involved</th>
            @if (c.COMMERCIAL_MOTOR_VEH_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Teenage Driver Involved</th>
            @if (c.TEENAGE_DRIVER_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Older Driver Involved</th>
            @if (c.OLDER_DRIVER_INVOLVED == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Night Conditions</th>
            @if (c.NIGHT_DARK_CONDITION == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Single Vehicle</th>
            @if (c.SINGLE_VEHICLE == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Distracted Driving</th>
            @if (c.DISTRACTED_DRIVING == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Drowsy Driving</th>
            @if (c.DROWSY_DRIVING == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
        <tr>
            <th>Roadway Departure</th>
            @if (c.ROADWAY_DEPARTURE == 0)
            {
                <td>No</td>
            }
            else
            {
                <td>Yes</td>
            }
        </tr>
    </tbody>

    <NavLink class="btn btn-warning" href="@EditUrl">Edit</NavLink>
    <NavLink class="btn btn-secondary" href="/admin/collisions">Back</NavLink>

</table>


@code {

    [Inject]
    public ICollisionsRepository repo { get; set; }

    [Parameter]
    public long Id { get; set; }

    public Collision c { get; set; }

    protected override void OnParametersSet()
    {
        c = repo.Collisions.FirstOrDefault(x => x.CRASH_ID == Id);
    }

    public string EditUrl => $"/admin/collisions/edit/{c.CRASH_ID}";
}
